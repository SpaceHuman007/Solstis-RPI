# Solstis Voice Assistant Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# PICOVOICE CONFIGURATION
# =============================================================================
# Get your access key from: https://console.picovoice.ai/
PICOVOICE_ACCESS_KEY=YOUR-PICOVOICE-ACCESSKEY-HERE

# Path to your wake word file (.ppn)
WAKEWORD_PATH=Solstice_en_raspberry-pi_v3_0_0.ppn

# Microphone device (use 'arecord -l' to list available devices)
MIC_DEVICE=plughw:3,0

# Microphone sample rate (Porcupine requires 16kHz)
MIC_SR=16000

# =============================================================================
# OPENAI/CHATGPT CONFIGURATION
# =============================================================================
# Get your API key from: https://platform.openai.com/api-keys
OPENAI_API_KEY=YOUR-OPENAI-API-KEY-HERE

# Model to use
MODEL=gpt-4-turbo

# =============================================================================
# AUDIO OUTPUT CONFIGURATION
# =============================================================================
# Speaker device (use 'aplay -l' to list available devices, or leave empty for default)
AUDIO_DEVICE=plughw:3,0

# Output sample rate (ChatGPT audio output)
OUT_SR=24000

TTS_MODEL=gpt-4o-mini-tts

# Voice to use for ChatGPT responses
VOICE=shimmer

# =============================================================================
# USER CONFIGURATION
# =============================================================================
# User name for personalized greetings
USER_NAME=User

# =============================================================================
# SPEECH DETECTION CONFIGURATION
# =============================================================================
# RMS threshold for speech detection (higher = less sensitive to quiet speech)
# Typical values: 200-1000 (adjust based on your microphone and environment)
SPEECH_THRESHOLD=500

# Seconds of silence before stopping audio capture
# Typical values: 1.0-2.0 seconds
SILENCE_DURATION=2.0

# Minimum speech duration before giving up (prevents false triggers)
# Typical values: 0.3-1.0 seconds
MIN_SPEECH_DURATION=0.5

# Maximum speech duration for safety (prevents infinite capture)
# Typical values: 8.0-15.0 seconds
MAX_SPEECH_DURATION=15.0

# =============================================================================
# LED CONTROL CONFIGUERATION
# =============================================================================
# Enable LED control for kit item highlighting
LED_ENABLED=true

# Number of LED pixels in your strip
LED_COUNT=788

# GPIO pin connected to LED strip data line
LED_PIN=13

# LED signal frequency in hertz
LED_FREQ_HZ=800000

# DMA channel for LED control
LED_DMA=10

# LED brightness (0-255, higher = brighter)
LED_BRIGHTNESS=70

# Invert LED signal (set to true if using NPN transistor level shift)
LED_INVERT=false

# LED channel (1 for GPIOs 13, 19, 41, 45 or 53)
LED_CHANNEL=1

# How long to keep LEDs on after item mention (seconds)
LED_DURATION=5.0

# =============================================================================
# REED SWITCH CONFIGURATION (Box Open/Close Detection)
# =============================================================================
# Enable reed switch for automatic box state detection
REED_SWITCH_ENABLED=true

# GPIO pin connected to reed switch
REED_SWITCH_PIN=16

# Debounce time in milliseconds (prevents false triggers from switch bouncing)
# Typical values: 50-200ms
REED_SWITCH_DEBOUNCE_MS=500

# =============================================================================
# TTS CONFIGURATION (Text-to-Speech)
# =============================================================================
# TTS model to use
TTS_MODEL=tts-1

# TTS voice (alloy, echo, fable, onyx, nova, shimmer)
TTS_VOICE=nova

# =============================================================================
# LED PULSING CONFIGURATION (Speaking Indicator)
# =============================================================================
# LED ranges for speaking indicator (Solstis middle section)
SPEAK_LEDS_START1=643
SPEAK_LEDS_END1=663
SPEAK_LEDS_START2=696
SPEAK_LEDS_END2=727

# Speaking indicator color (RGB values 0-255)
SPEAK_COLOR_R=0
SPEAK_COLOR_G=180
SPEAK_COLOR_B=255

# =============================================================================
# NOISE FILTERING CONFIGURATION
# =============================================================================
# Sampling and filtering thresholds
SPEECH_THRESHOLD=600          # Decrease base threshold
MIN_SPEECH_FRAMES=2           # Allow shorter speech bursts
NOISE_MULTIPLIER=2.0  

